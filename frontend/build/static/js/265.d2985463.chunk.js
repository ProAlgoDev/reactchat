"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[265],{26265:(e,r,o)=>{o.r(r),o.d(r,{default:()=>f});var t=o(36314),i=o(20890),n=(o(70948),o(29534),o(72791)),s=o(81724),a=o(61134),c=o(44695),d=o(82880),l=o(11892),u=o(43138),m=o(80184);function h(e){let{keyName:r="",inputs:o=[],...i}=e;const s=(0,n.useRef)(null),{control:c}=(0,a.Gc)();return(0,m.jsx)(t.Z,{direction:"row",spacing:2,justifyContent:"center",ref:s,children:o.map(((e,o)=>(0,m.jsx)(a.Qr,{name:"".concat(r).concat(o+1),control:c,render:e=>{let{field:t,fieldState:{error:n}}=e;return(0,m.jsx)(u.Z,{...t,error:!!n,autoFocus:0===o,placeholder:"-",onChange:e=>{((e,o)=>{const{maxLength:t,value:i,name:n}=e.target,s=n.replace(r,""),a=Number(s),c=document.querySelector("input[name=".concat(r).concat(a+1,"]"));i.length>t&&(e.target.value=i[0]),i.length>=t&&a<6&&null!==c&&c.focus(),o(e)})(e,t.onChange)},onFocus:e=>e.currentTarget.select(),InputProps:{sx:{width:{xs:36,sm:56},height:{xs:36,sm:56},"& input":{p:0,textAlign:"center"}}},inputProps:{maxLength:1,type:"number"},...i})}},e)))})}var p=o(59434),g=o(82492);function x(){const e=(0,p.I0)(),{email:r}=(0,p.v9)((e=>e.auth)),o=s.Ry().shape({code1:s.Z_().required("Code is required"),code2:s.Z_().required("Code is required"),code3:s.Z_().required("Code is required"),code4:s.Z_().required("Code is required"),code5:s.Z_().required("Code is required"),code6:s.Z_().required("Code is required")}),i=(0,a.cI)({mode:"onChange",resolver:(0,c.X)(o),defaultValues:{code1:"",code2:"",code3:"",code4:"",code5:"",code6:""}}),{handleSubmit:n,formState:{isSubmitting:u,errors:x}}=i;return(0,m.jsx)(l.ZP,{methods:i,onSubmit:n((async o=>{try{e((0,g.if)({email:r,otp:"".concat(o.code1).concat(o.code2).concat(o.code3).concat(o.code4).concat(o.code5).concat(o.code6)}))}catch(t){console.error(t)}})),children:(0,m.jsxs)(t.Z,{spacing:3,children:[(0,m.jsx)(h,{keyName:"code",inputs:["code1","code2","code3","code4","code5","code6"]}),(0,m.jsx)(d.Z,{fullWidth:!0,size:"large",type:"submit",variant:"contained",sx:{mt:3,bgcolor:"text.primary",color:e=>"light"===e.palette.mode?"common.white":"grey.800","&:hover":{bgcolor:"text.primary",color:e=>"light"===e.palette.mode?"common.white":"grey.800"}},children:"Verify"})]})})}function f(){return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)(t.Z,{spacing:2,sx:{mb:5,position:"relative"},children:[(0,m.jsx)(i.Z,{variant:"h4",children:"Please Verify OTP"}),(0,m.jsx)(t.Z,{direction:"row",spacing:.5,children:(0,m.jsxs)(i.Z,{variant:"body2",children:["Sent to email ","()"]})})]}),(0,m.jsx)(x,{})]})}},29534:(e,r,o)=>{o.d(r,{Z:()=>Z});var t=o(72791),i=o(81724),n=o(11087),s=o(61134),a=o(44695),c=o(36314),d=o(94070),l=o(63466),u=o(13400),m=o(80043),h=o(59860),p=o(11892),g=o(53735),x=o(80697),f=o(82492),y=o(59434),b=o(80184);function Z(){const e=(0,y.I0)(),[r,o]=(0,t.useState)(!1),{isLoading:Z}=(0,y.v9)((e=>e.auth)),j=i.Ry().shape({email:i.Z_().required("Email is required").email("Email must be a valid email address"),password:i.Z_().required("Password is required")}),v=(0,s.cI)({resolver:(0,a.X)(j),defaultValues:{email:"babble.io@gmail.com",password:"PASSWORD"}}),{reset:w,setError:q,handleSubmit:S,formState:{errors:C}}=v;return(0,b.jsxs)(p.ZP,{methods:v,onSubmit:S((async r=>{try{console.log(r),e((0,f.vx)(r))}catch(o){console.error(o),w(),q("afterSubmit",{...o,message:o.message})}})),children:[(0,b.jsxs)(c.Z,{spacing:3,children:[!!C.afterSubmit&&(0,b.jsx)(d.Z,{severity:"error",children:C.afterSubmit.message}),(0,b.jsx)(p.au,{name:"email",label:"Email address"}),(0,b.jsx)(p.au,{name:"password",label:"Password",type:r?"text":"password",InputProps:{endAdornment:(0,b.jsx)(l.Z,{position:"end",sx:{height:"1em",overflow:"visible"},children:(0,b.jsx)(u.Z,{onClick:()=>o(!r),edge:"end",children:r?(0,b.jsx)(g.Z,{}):(0,b.jsx)(x.Z,{})})})}})]}),(0,b.jsx)(c.Z,{alignItems:"flex-end",sx:{my:2},children:(0,b.jsx)(m.Z,{component:n.rU,to:"/auth/reset-password",variant:"body2",color:"inherit",underline:"always",children:"Forgot password?"})}),(0,b.jsx)(h.Z,{fullWidth:!0,color:"inherit",size:"large",type:"submit",variant:"contained",loading:Z,sx:{bgcolor:"text.primary",color:e=>"light"===e.palette.mode?"common.white":"grey.800","&:hover":{bgcolor:"text.primary",color:e=>"light"===e.palette.mode?"common.white":"grey.800"}},children:"Login"})]})}}}]);
//# sourceMappingURL=265.d2985463.chunk.js.map