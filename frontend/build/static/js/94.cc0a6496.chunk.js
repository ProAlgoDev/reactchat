"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[94],{58246:(e,t,n)=>{n.d(t,{Z:()=>b});var r=n(72791),a=n(697),i=n(29472),o=n(36314),s=n(93044),l=n(20890),c=n(66934),d=n(13967),p=n(12065),h=n(59434),u=n(55613);const g=e=>("0"+e).slice(-2);function m(e){let t=new Date(e),n=new Date;n=new Date(n.toDateString());let r=(new Date).setDate(n.getDate()-1);return t>n?(e=>{let t=e.getHours(),n=e.getMinutes();return g(t)+":"+g(n)})(t):t>r?"Yesterday":t.getDate()+"/"+t.getMonth()+"/"+t.getFullYear().toString().substring(2,4)}var x=n(71498),f=n(94984),Z=n(80184);const v=(0,c.ZP)(a.Z)((e=>{let{theme:t}=e;return{"&:hover":{cursor:"pointer"}}})),j=(0,c.ZP)(i.Z)((e=>{let{theme:t}=e;return{"& .MuiBadge-badge":{backgroundColor:"#44b700",color:"#44b700",boxShadow:"0 0 0 2px ".concat(t.palette.background.paper),"&::after":{position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"50%",animation:"ripple 1.2s infinite ease-in-out",border:"1px solid currentColor",content:'""'}},"@keyframes ripple":{"0%":{transform:"scale(.8)",opacity:1},"100%":{transform:"scale(2.4)",opacity:0}}}})),b=e=>{var t,n,a,i,c,g,b;let{_id:w,users:k,latestMessage:y,isGroupChat:C,chatName:M}=e;const E=(0,h.I0)(),{chat_id:W}=(0,h.v9)((e=>e.app)),{_id:A}=(0,h.v9)((e=>e.app.user));let I=W===w;W||(I=!1),(0,r.useEffect)((()=>{}),[W,y]);const S=(0,d.Z)();return(0,Z.jsx)(v,{onClick:()=>{x.W.emit("leave chat",W),E((0,u.ND)({chat_id:w,isGroupChat:C})),x.W.emit("join chat",w),x.W.on("connected",(()=>{console.log("Socket Connected"),E((0,f.h7)(!0))}))},sx:{width:"100%",borderRadius:1,backgroundColor:I?"light"===S.palette.mode?(0,p.Fq)(S.palette.primary.main,.5):S.palette.primary.main:"light"===S.palette.mode?"#fff":S.palette.background.paper},p:2,children:(0,Z.jsxs)(o.Z,{direction:"row",alignItems:"flex-end",justifyContent:"space-between",children:[(0,Z.jsxs)(o.Z,{direction:"row",spacing:2,children:[" ",C?(0,Z.jsx)(s.Z,{alt:M,src:""}):"online"===(null===(t=k[0])||void 0===t?void 0:t.status)?(0,Z.jsx)(j,{overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"right"},variant:"dot",children:(0,Z.jsx)(s.Z,{alt:null===(n=k[0])||void 0===n?void 0:n.firstName,src:null===(a=k[0])||void 0===a?void 0:a.avatar})}):(0,Z.jsx)(s.Z,{alt:null===(i=k[0])||void 0===i?void 0:i.firstName,src:null===(c=k[0])||void 0===c?void 0:c.avatar}),(0,Z.jsxs)(o.Z,{children:[C?(0,Z.jsx)(l.Z,{variant:"subtitle2",children:M}):(0,Z.jsx)(l.Z,{variant:"subtitle2",children:(null===(g=k[0])||void 0===g?void 0:g.firstName)+" "+(null===(b=k[0])||void 0===b?void 0:b.lastName)}),(0,Z.jsxs)(o.Z,{direction:"row",spacing:.5,children:[(0,Z.jsx)(l.Z,{variant:"caption",sx:{fontWeight:"600"},children:y?y.sender._id===A?"You: ":"".concat(y.sender.firstName.trim(),": "):""}),(0,Z.jsx)(l.Z,{variant:"caption",sx:{fontWeight:"500"},children:y?(B=y.content,V=20,(null===B||void 0===B?void 0:B.length)>V?"".concat(null===B||void 0===B?void 0:B.slice(0,V),"..."):B):""})]})]})]}),(0,Z.jsx)(o.Z,{spacing:2,alignItems:"end",direction:"column",children:(0,Z.jsx)(l.Z,{sx:{fontWeight:600},variant:"caption",children:y?m(y.createdAt):""})})]})});var B,V}},53614:(e,t,n)=>{n.d(t,{ol:()=>i,cB:()=>o,el:()=>l});var r=n(66934),a=n(12065);const i=(0,r.ZP)("div")((e=>{let{theme:t}=e;return{position:"relative",borderRadius:20,backgroundColor:(0,a.Fq)(t.palette.background.paper,1),marginRight:t.spacing(2),marginLeft:0,width:"100%"}})),o=(0,r.ZP)("div")((e=>{let{theme:t}=e;return{padding:t.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"}}));var s=n(4834);const l=(0,r.ZP)(s.ZP)((e=>{let{theme:t}=e;return{color:"inherit","& .MuiInputBase-input":{padding:t.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(t.spacing(4),")"),width:"100%"}}}))},41036:(e,t,n)=>{n.d(t,{Z:()=>u});n(72791);var r=n(13967),a=n(697),i=n(36314),o=n(13400),s=n(6842),l=n(15122),c=n(59434),d=n(55613),p=n(57689),h=n(80184);const u=()=>{const e=(0,r.Z)(),t=(0,p.s0)(),n=(0,c.I0)(),{tab:u}=(0,c.v9)((e=>e.app));return(0,h.jsx)(a.Z,{sx:{zIndex:10,position:"absolute",bottom:0,width:"100vw",backgroundColor:e.palette.background.paper,boxShadow:"0px 0px 2px rgba(0, 0, 0, 0.25)"},children:(0,h.jsxs)(i.Z,{sx:{width:"100%"},direction:"row",alignItems:"center",justifyContent:"space-between",spacing:2,p:2,children:[l.u5.map((r=>r.index===u?(0,h.jsx)(a.Z,{sx:{backgroundColor:e.palette.primary.main,borderRadius:1.5},p:1,children:(0,h.jsx)(o.Z,{sx:{width:"max-content",color:"#ffffff"},children:r.icon})}):(0,h.jsx)(o.Z,{onClick:()=>{var e;2!==(e=r.index)?(n((0,d.Tn)({tab:e})),t((e=>{switch(e){case 0:return"/app";case 1:return"/group";case 2:return"/call";case 3:return"/settings"}})(e))):n((0,d.OV)({severity:"info",message:"Feature Under Construction"}))},sx:{width:"max-content",color:"light"===e.palette.mode?"#080707":e.palette.text.primary},children:r.icon}))),(0,h.jsx)(s.Z,{})]})})}},57007:(e,t,n)=>{n.r(t),n.d(t,{default:()=>B});var r=n(72791),a=n(697),i=n(36314),o=n(20890),s=n(13400),l=n(57320),c=n(40703),d=n(13967),p=n(29998),h=n(41036),u=n(58246),g=n(55931),m=n(5289),x=n(65661),f=n(39157),Z=n(59434),v=n(55613),j=n(29472),b=n(93044),w=n(66934),k=n(53687),y=n(57689),C=n(80184);const M=(0,w.ZP)(a.Z)((e=>{let{theme:t}=e;return{"&:hover":{cursor:"pointer"}}})),E=(0,w.ZP)(j.Z)((e=>{let{theme:t}=e;return{"& .MuiBadge-badge":{backgroundColor:"#44b700",color:"#44b700",boxShadow:"0 0 0 2px ".concat(t.palette.background.paper),"&::after":{position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"50%",animation:"ripple 1.2s infinite ease-in-out",border:"1px solid currentColor",content:'""'}},"@keyframes ripple":{"0%":{transform:"scale(.8)",opacity:1},"100%":{transform:"scale(2.4)",opacity:0}}}})),W=e=>{let{avatar:t,firstName:n,lastName:r,status:a,_id:l,handleClose:c}=e;const p=(0,d.Z)(),h="".concat(n," ").concat(r),u=(0,Z.I0)(),g=(0,y.s0)();return(0,C.jsx)(M,{sx:{width:"100%",borderRadius:1,backgroundColor:p.palette.background.paper},p:1,children:(0,C.jsxs)(i.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[(0,C.jsxs)(i.Z,{direction:"row",alignItems:"center",spacing:2,children:[" ","Online"===a?(0,C.jsx)(E,{overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"right"},variant:"dot",children:(0,C.jsx)(b.Z,{alt:h,src:t})}):(0,C.jsx)(b.Z,{alt:h,src:t}),(0,C.jsx)(i.Z,{spacing:.3,children:(0,C.jsx)(o.Z,{variant:"subtitle2",children:h})})]}),(0,C.jsx)(i.Z,{direction:"row",spacing:2,alignItems:"center",children:(0,C.jsx)(s.Z,{onClick:async()=>{console.log(l,"working"),await u((0,v.VM)({_id:l})).then(c()).then(g("/app"))},children:(0,C.jsx)(k.Z,{})})})]})})},A=r.forwardRef((function(e,t){return(0,C.jsx)(g.Z,{direction:"up",ref:t,...e})})),I=e=>{let{open:t,handleClose:n}=e;const a=(0,Z.I0)(),{users:o}=(0,Z.v9)((e=>e.app));return(0,r.useEffect)((()=>{a((0,v.j4)())}),[]),(0,C.jsxs)(m.Z,{fullWidth:!0,maxWidth:"xs",open:t,TransitionComponent:A,keepMounted:!0,onClose:n,"aria-describedby":"alert-dialog-slide-description",sx:{p:4},children:[(0,C.jsx)(i.Z,{width:"100%",direction:"row",justifyContent:"center",children:(0,C.jsx)(x.Z,{children:"Start New Chat"})}),(0,C.jsx)(f.Z,{children:(0,C.jsx)(i.Z,{sx:{height:"100%"},children:(0,C.jsx)(i.Z,{children:o.map(((e,t)=>(0,C.jsx)(W,{...e,handleClose:n},t)))})})})]})};var S=n(53614);n(71498);const B=()=>{const e=(0,d.Z)(),t=(0,p.Z)("up","md"),n=(0,Z.I0)(),{chats:g}=(0,Z.v9)((e=>e.app));(0,r.useEffect)((()=>{n((0,v.dv)()),n((0,v.Tn)({tab:0}))}),[]),(0,r.useEffect)((()=>{}),[g]);const[m,x]=(0,r.useState)(!1);return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)(a.Z,{sx:{position:"relative",height:"100%",width:t?320:"100vw",backgroundColor:"light"===e.palette.mode?"#F8FAFF":e.palette.background,boxShadow:"0px 0px 2px rgba(0, 0, 0, 0.25)"},children:[!t&&(0,C.jsx)(h.Z,{}),(0,C.jsxs)(i.Z,{p:3,pr:1.5,spacing:2,sx:{maxHeight:"100vh",height:"100%"},children:[(0,C.jsxs)(i.Z,{alignItems:"center",justifyContent:"space-between",direction:"row",pr:1.5,children:[(0,C.jsx)(o.Z,{variant:"h5",children:"Chats"}),(0,C.jsx)(i.Z,{direction:"row",alignItems:"center",spacing:1,children:(0,C.jsx)(s.Z,{onClick:()=>{x(!0)},sx:{width:"max-content"},children:(0,C.jsx)(l.Z,{})})})]}),(0,C.jsx)(i.Z,{sx:{width:"100%",height:"auto"},pr:1.5,children:(0,C.jsxs)(S.ol,{children:[(0,C.jsx)(S.cB,{children:(0,C.jsx)(c.Z,{color:"#709CE6"})}),(0,C.jsx)(S.el,{placeholder:"Search\u2026",inputProps:{"aria-label":"search"}})]})}),(0,C.jsx)(i.Z,{sx:{flexGrow:1,overflowY:"scroll",height:"100%"},pr:.5,children:(0,C.jsxs)(i.Z,{spacing:1,children:[(0,C.jsx)(o.Z,{variant:"subtitle2",sx:{color:"#676667"},children:"All Chats"}),g.filter((e=>!e.isGroupChat)).map(((e,t)=>(0,r.createElement)(u.Z,{...e,key:t})))]})})]})]}),m&&(0,C.jsx)(I,{open:m,handleClose:()=>{x(!1)}})]})}},20890:(e,t,n)=>{n.d(t,{Z:()=>j});var r=n(63366),a=n(87462),i=n(72791),o=n(63733),s=n(78519),l=n(94419),c=n(66934),d=n(31402),p=n(14036),h=n(75878),u=n(21217);function g(e){return(0,u.Z)("MuiTypography",e)}(0,h.Z)("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);var m=n(80184);const x=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],f=(0,c.ZP)("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.variant&&t[n.variant],"inherit"!==n.align&&t["align".concat((0,p.Z)(n.align))],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})((e=>{let{theme:t,ownerState:n}=e;return(0,a.Z)({margin:0},"inherit"===n.variant&&{font:"inherit"},"inherit"!==n.variant&&t.typography[n.variant],"inherit"!==n.align&&{textAlign:n.align},n.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n.gutterBottom&&{marginBottom:"0.35em"},n.paragraph&&{marginBottom:16})})),Z={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},v={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},j=i.forwardRef((function(e,t){const n=(0,d.Z)({props:e,name:"MuiTypography"}),i=(e=>v[e]||e)(n.color),c=(0,s.Z)((0,a.Z)({},n,{color:i})),{align:h="inherit",className:u,component:j,gutterBottom:b=!1,noWrap:w=!1,paragraph:k=!1,variant:y="body1",variantMapping:C=Z}=c,M=(0,r.Z)(c,x),E=(0,a.Z)({},c,{align:h,color:i,className:u,component:j,gutterBottom:b,noWrap:w,paragraph:k,variant:y,variantMapping:C}),W=j||(k?"p":C[y]||Z[y])||"span",A=(e=>{const{align:t,gutterBottom:n,noWrap:r,paragraph:a,variant:i,classes:o}=e,s={root:["root",i,"inherit"!==e.align&&"align".concat((0,p.Z)(t)),n&&"gutterBottom",r&&"noWrap",a&&"paragraph"]};return(0,l.Z)(s,g,o)})(E);return(0,m.jsx)(f,(0,a.Z)({as:W,ref:t,ownerState:E,className:(0,o.Z)(A.root,u)},M))}))},18252:(e,t,n)=>{var r;n.d(t,{Z:()=>s});var a=n(72791);let i=0;const o=(r||(r=n.t(a,2)))["useId".toString()];function s(e){if(void 0!==o){const t=o();return null!=e?e:t}return function(e){const[t,n]=a.useState(e),r=e||t;return a.useEffect((()=>{null==t&&(i+=1,n("mui-".concat(i)))}),[t]),r}(e)}},53687:(e,t,n)=>{n.d(t,{Z:()=>c});var r=n(72791),a=n(92602),i=n(87120),o=new Map;o.set("bold",(function(e){return r.createElement(r.Fragment,null,r.createElement("path",{d:"M77.4,201.9l-32.3,27A8,8,0,0,1,32,222.8V64a8,8,0,0,1,8-8H216a8,8,0,0,1,8,8V192a8,8,0,0,1-8,8H82.5A7.8,7.8,0,0,0,77.4,201.9Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))})),o.set("duotone",(function(e){return r.createElement(r.Fragment,null,r.createElement("path",{d:"M78,201.3,45.1,228.9A8,8,0,0,1,32,222.8V64a8,8,0,0,1,8-8H216a8,8,0,0,1,8,8V192a8,8,0,0,1-8,8H81.7Z",opacity:"0.2"}),r.createElement("path",{d:"M77.4,201.9l-32.3,27A8,8,0,0,1,32,222.8V64a8,8,0,0,1,8-8H216a8,8,0,0,1,8,8V192a8,8,0,0,1-8,8H82.5A7.8,7.8,0,0,0,77.4,201.9Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))})),o.set("fill",(function(){return r.createElement(r.Fragment,null,r.createElement("path",{d:"M216,48H40A16,16,0,0,0,24,64V222.8a15.7,15.7,0,0,0,9.3,14.5,16,16,0,0,0,17-2.2L82,208.4l134-.4a16,16,0,0,0,16-16V64A16,16,0,0,0,216,48Z"}))})),o.set("light",(function(e){return r.createElement(r.Fragment,null,r.createElement("path",{d:"M77.4,201.9l-32.3,27A8,8,0,0,1,32,222.8V64a8,8,0,0,1,8-8H216a8,8,0,0,1,8,8V192a8,8,0,0,1-8,8H82.5A7.8,7.8,0,0,0,77.4,201.9Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))})),o.set("thin",(function(e){return r.createElement(r.Fragment,null,r.createElement("path",{d:"M77.4,201.9l-32.3,27A8,8,0,0,1,32,222.8V64a8,8,0,0,1,8-8H216a8,8,0,0,1,8,8V192a8,8,0,0,1-8,8H82.5A7.8,7.8,0,0,0,77.4,201.9Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))})),o.set("regular",(function(e){return r.createElement(r.Fragment,null,r.createElement("path",{d:"M77.4,201.9l-32.3,27A8,8,0,0,1,32,222.8V64a8,8,0,0,1,8-8H216a8,8,0,0,1,8,8V192a8,8,0,0,1-8,8H82.5A7.8,7.8,0,0,0,77.4,201.9Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))}));var s=function(e,t){return(0,a._)(e,t,o)},l=(0,r.forwardRef)((function(e,t){return r.createElement(i.Z,Object.assign({ref:t},e,{renderPath:s}))}));l.displayName="Chat";const c=l}}]);
//# sourceMappingURL=94.cc0a6496.chunk.js.map