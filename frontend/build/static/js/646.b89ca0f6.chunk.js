"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[646],{6522:(e,t,r)=>{r.d(t,{Z:()=>i});var n=r(61134),o=r(80184);function i(e){let{children:t,onSubmit:r,methods:i}=e;return(0,o.jsx)(n.RV,{...i,children:(0,o.jsx)("form",{onSubmit:r,children:t})})}},11892:(e,t,r)=>{r.d(t,{au:()=>w,sX:()=>b,ZP:()=>j.Z});var n=r(61134),o=r(47071),i=r(72791),a=r(87087),l=r(697),s=r(80184);const c=(0,i.forwardRef)(((e,t)=>{let{disabledEffect:r=!1,effect:n="blur",sx:o,...i}=e;const c=(0,s.jsx)(l.Z,{component:a.LazyLoadImage,wrapperClassName:"wrapper",effect:r?void 0:n,placeholderSrc:r?"/assets/transparent.png":"/assets/placeholder.svg",sx:{width:1,height:1,objectFit:"cover"},...i});return(0,s.jsx)(l.Z,{ref:t,component:"span",sx:{lineHeight:1,display:"block",overflow:"hidden",position:"relative","& .wrapper":{width:1,height:1,backgroundSize:"cover !important"},...o},children:c})}));function d(e){let{file:t}=e;if(!t)return null;const r="string"===typeof t?t:t.preview;return(0,s.jsx)(c,{alt:"avatar",src:r,sx:{zIndex:8,overflow:"hidden",borderRadius:"50%",position:"absolute",width:"calc(100% - 16px)",height:"calc(100% - 16px)"}})}var u=r(18267),p=r(20890),h=r(66934),m=r(12065),f=r(76526);const x=(0,h.ZP)("div")((e=>{let{theme:t}=e;return{width:144,height:144,margin:"auto",display:"flex",cursor:"pointer",overflow:"hidden",borderRadius:"50%",alignItems:"center",position:"relative",justifyContent:"center",border:"1px dashed ".concat((0,m.Fq)(t.palette.grey[500],.32))}})),g=(0,h.ZP)("div")((e=>{let{theme:t}=e;return{zIndex:7,display:"flex",borderRadius:"50%",position:"absolute",alignItems:"center",flexDirection:"column",justifyContent:"center",width:"calc(100% - 16px)",height:"calc(100% - 16px)",color:t.palette.text.disabled,backgroundColor:t.palette.background.neutral,transition:t.transitions.create("opacity",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.shorter})}}));function v(e){let{error:t,file:r,disabled:n,helperText:o,sx:i,...a}=e;const{getRootProps:l,getInputProps:c,isDragActive:h,isDragReject:v}=(0,u.uI)({multiple:!1,disabled:n,...a}),b=!!r,j=v||!!t;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(x,{...l(),sx:{...h&&{opacity:.72},...j&&{borderColor:"error.light",...b&&{bgcolor:"error.lighter"}},...n&&{opacity:.48,pointerEvents:"none"},...b&&{"&:hover":{"& .placeholder":{opacity:1}}},...i},children:[(0,s.jsx)("input",{...c()}),b&&(0,s.jsx)(d,{file:r}),(0,s.jsxs)(g,{className:"placeholder",sx:{"&:hover":{opacity:.72},...b&&{zIndex:9,opacity:0,color:"common.white",bgcolor:e=>(0,m.Fq)(e.palette.grey[900],.64)},...j&&{color:"error.main",bgcolor:"error.lighter"}},children:[(0,s.jsx)(f.Z,{}),(0,s.jsx)(p.Z,{variant:"caption",children:r?"Update photo":"Upload photo"})]})]}),o&&o]})}function b(e){let{name:t,...r}=e;const{control:i}=(0,n.Gc)();return(0,s.jsx)(n.Qr,{name:t,control:i,render:e=>{let{field:t,fieldState:{error:n}}=e;return(0,s.jsxs)("div",{children:[(0,s.jsx)(v,{accept:{"image/*":[]},error:!!n,file:t.value,...r}),!!n&&(0,s.jsx)(o.Z,{error:!0,sx:{px:2,textAlign:"center"},children:n.message})]})}})}var j=r(6522),k=r(43138);function w(e){let{name:t,helperText:r,...o}=e;const{control:i}=(0,n.Gc)();return(0,s.jsx)(n.Qr,{name:t,control:i,render:e=>{let{field:t,fieldState:{error:n}}=e;return(0,s.jsx)(k.Z,{...t,fullWidth:!0,value:"number"===typeof t.value&&0===t.value?"":t.value,error:!!n,helperText:n?null===n||void 0===n?void 0:n.message:r,...o})}})}},49646:(e,t,r)=>{r.r(t),r.d(t,{default:()=>j});var n=r(72791),o=r(36314),i=r(697),a=r(13400),l=r(20890),s=r(34559),c=r(81724),d=r(61134),u=r(44695),p=r(6522),h=r(11892),m=r(59860),f=r(59434),x=r(55613),g=r(57689),v=r(80184);const b=()=>{const e=(0,f.I0)(),t=(0,g.s0)(),[r,i]=(0,n.useState)(),[a,l]=(0,n.useState)(!1),{user:s}=(0,f.v9)((e=>e.app)),b=c.Ry().shape({firstName:c.Z_().required("Name is required"),about:c.Z_().required("About is required"),avatar:c.Z_().required("Avatar is required").nullable(!0)}),j={firstName:null===s||void 0===s?void 0:s.firstName,lastName:null===s||void 0===s?void 0:s.lastName,about:null===s||void 0===s?void 0:s.about,avatar:"".concat(null===s||void 0===s?void 0:s.avatar)},k=(0,d.cI)({resolver:(0,u.X)(b),defaultValues:j}),{reset:w,watch:y,control:Z,setValue:F,handleSubmit:E,formState:{isSubmitting:S,isSubmitSuccessful:L}}=k,N=(y(),(0,n.useCallback)((e=>{const t=e[0];console.log(t),i(t),l(!0);const r=Object.assign(t,{preview:URL.createObjectURL(t)});t&&F("avatar",r,{shouldValidate:!0})}),[F]));return(0,v.jsx)(p.Z,{methods:k,onSubmit:E((async n=>{try{await e((0,x.bG)({firstName:null===n||void 0===n?void 0:n.firstName,about:null===n||void 0===n?void 0:n.about,avatar:r,isPictureModified:a})).then(t(-1))}catch(o){console.error(o)}})),children:(0,v.jsxs)(o.Z,{spacing:4,children:[(0,v.jsx)(h.sX,{name:"avatar",maxSize:3145728,onDrop:N}),(0,v.jsx)(h.au,{name:"firstName",label:"First Name"}),(0,v.jsx)(h.au,{name:"lastName",label:"Last Name"}),(0,v.jsx)(h.au,{multiline:!0,rows:4,name:"about",label:"About"}),(0,v.jsx)(o.Z,{direction:"row",justifyContent:"end",children:(0,v.jsx)(m.Z,{color:"primary",size:"large",type:"submit",variant:"contained",children:"Save"})})]})})},j=()=>{const e=(0,f.I0)(),t=(0,g.s0)();return(0,n.useEffect)((()=>{e((0,x.Wn)())}),[]),(0,v.jsx)(v.Fragment,{children:(0,v.jsxs)(o.Z,{direction:"row",sx:{width:"100%"},children:[(0,v.jsx)(i.Z,{sx:{overflowY:"scroll",height:"100vh",width:320,backgroundColor:e=>"light"===e.palette.mode?"#F8FAFF":e.palette.background,boxShadow:"0px 0px 2px rgba(0, 0, 0, 0.25)"},children:(0,v.jsxs)(o.Z,{p:4,spacing:5,children:[(0,v.jsxs)(o.Z,{direction:"row",alignItems:"center",spacing:3,children:[(0,v.jsx)(a.Z,{onClick:()=>t(-1),children:(0,v.jsx)(s.Z,{size:24,color:"#4B4B4B"})}),(0,v.jsx)(l.Z,{variant:"h5",children:"Profile"})]}),(0,v.jsx)(b,{})]})}),(0,v.jsx)(i.Z,{sx:{height:"100%",width:"calc(100vw - 420px )",backgroundColor:e=>"light"===e.palette.mode?"#FFF":e.palette.background.paper,borderBottom:"6px solid #0162C4"}})]})})}},34559:(e,t,r)=>{r.d(t,{Z:()=>c});var n=r(72791),o=r(92602),i=r(87120),a=new Map;a.set("bold",(function(e){return n.createElement(n.Fragment,null,n.createElement("polyline",{points:"160 208 80 128 160 48",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))})),a.set("duotone",(function(e){return n.createElement(n.Fragment,null,n.createElement("polygon",{points:"160 208 80 128 160 48 160 208",opacity:"0.2"}),n.createElement("polygon",{points:"160 208 80 128 160 48 160 208",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))})),a.set("fill",(function(){return n.createElement(n.Fragment,null,n.createElement("path",{d:"M163.1,40.6a8.4,8.4,0,0,0-8.8,1.7l-80,80a8.1,8.1,0,0,0,0,11.4l80,80A8.3,8.3,0,0,0,160,216a8.5,8.5,0,0,0,3.1-.6A8,8,0,0,0,168,208V48A8,8,0,0,0,163.1,40.6Z"}))})),a.set("light",(function(e){return n.createElement(n.Fragment,null,n.createElement("polyline",{points:"160 208 80 128 160 48",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))})),a.set("thin",(function(e){return n.createElement(n.Fragment,null,n.createElement("polyline",{points:"160 208 80 128 160 48",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))})),a.set("regular",(function(e){return n.createElement(n.Fragment,null,n.createElement("polyline",{points:"160 208 80 128 160 48",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))}));var l=function(e,t){return(0,o._)(e,t,a)},s=(0,n.forwardRef)((function(e,t){return n.createElement(i.Z,Object.assign({ref:t},e,{renderPath:l}))}));s.displayName="CaretLeft";const c=s}}]);
//# sourceMappingURL=646.b89ca0f6.chunk.js.map