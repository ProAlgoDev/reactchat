"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[575],{16575:(e,i,n)=>{n.r(i),n.d(i,{default:()=>D});var s=n(72791),t=n(66934),r=n(13967),l=n(697),o=n(55931),c=n(5289),a=n(65661),d=n(39157),h=n(51691),x=n(97123),u=n(82880),j=n(36314),Z=n(20890),p=n(13400),g=n(93044),v=n(94721),m=n(62910),C=n(38037),b=n(28180),f=n(1093),k=n(15041),w=n(34198),I=n(29998),y=n(18094),F=n(59434),N=n(55613),W=n(71498),_=n(94984),G=n(80184);const M=(0,t.ZP)(l.Z)((e=>{let{theme:i}=e;return{"&:hover":{cursor:"pointer"}}})),S=s.forwardRef((function(e,i){return(0,G.jsx)(o.Z,{direction:"up",ref:i,...e})})),T=e=>{let{open:i,handleClose:n}=e;return(0,G.jsxs)(c.Z,{open:i,TransitionComponent:S,keepMounted:!0,onClose:n,"aria-describedby":"alert-dialog-slide-description",children:[(0,G.jsx)(a.Z,{children:"Block this contact"}),(0,G.jsx)(d.Z,{children:(0,G.jsx)(h.Z,{id:"alert-dialog-slide-description",children:"Are you sure you want to block this Contact?"})}),(0,G.jsxs)(x.Z,{children:[(0,G.jsx)(u.Z,{onClick:n,children:"Cancel"}),(0,G.jsx)(u.Z,{onClick:n,children:"Yes"})]})]})},A=e=>{let{open:i,handleClose:n}=e;return(0,G.jsxs)(c.Z,{open:i,TransitionComponent:S,keepMounted:!0,onClose:n,"aria-describedby":"alert-dialog-slide-description",children:[(0,G.jsx)(a.Z,{children:"Delete this chat"}),(0,G.jsx)(d.Z,{children:(0,G.jsx)(h.Z,{id:"alert-dialog-slide-description",children:"Are you sure you want to delete this chat?"})}),(0,G.jsxs)(x.Z,{children:[(0,G.jsx)(u.Z,{onClick:n,children:"Cancel"}),(0,G.jsx)(u.Z,{onClick:n,children:"Yes"})]})]})},D=()=>{var e,i;const n=(0,F.I0)(),{selectedChat:t,isGroupChat:o,chat_id:c,commonGroups:a}=(0,F.v9)((e=>e.app)),d=(0,r.Z)(),h=(0,I.Z)("up","md"),[x,S]=(0,s.useState)(!1),[D,R]=(0,s.useState)(!1);(0,s.useEffect)((()=>{n(o?(0,N.aP)():(0,N.xj)({user_id:null===t||void 0===t?void 0:t.users[0]._id}))}),[c,o]);return(0,G.jsxs)(l.Z,{sx:{width:h?320:"100vw",maxHeight:"100vh"},children:[(0,G.jsxs)(j.Z,{sx:{height:"100%"},children:[(0,G.jsx)(l.Z,{sx:{boxShadow:"0px 0px 2px rgba(0, 0, 0, 0.25)",width:"100%",backgroundColor:"light"===d.palette.mode?"#F8FAFF":d.palette.background},children:(0,G.jsxs)(j.Z,{sx:{height:"100%",p:2},direction:"row",alignItems:"center",justifyContent:"space-between",spacing:3,children:[(0,G.jsx)(Z.Z,{variant:"subtitle2",children:"Contact Info"}),(0,G.jsx)(p.Z,{onClick:()=>{n((0,N.Xk)())},children:(0,G.jsx)(m.Z,{})})]})}),(0,G.jsxs)(j.Z,{sx:{height:"100%",position:"relative",flexGrow:1,overflow:"scroll"},p:3,spacing:3,children:[(0,G.jsxs)(j.Z,{alignItems:"center",direction:"column",spacing:2,children:[(0,G.jsx)(g.Z,{src:null!==t&&void 0!==t&&t.isGroupChat?"":null===t||void 0===t?void 0:t.users[0].avatar,alt:null===t||void 0===t?void 0:t.chatName,sx:{height:108,width:108}}),(0,G.jsx)(j.Z,{spacing:.5,children:(0,G.jsx)(Z.Z,{variant:"article",fontWeight:600,children:null===t||void 0===t?void 0:t.chatName})})]}),!o&&(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)(v.Z,{}),(0,G.jsxs)(j.Z,{spacing:.3,children:[(0,G.jsx)(Z.Z,{variant:"article",fontWeight:600,children:"About"}),(0,G.jsx)(Z.Z,{variant:"body2",fontWeight:500,paddingLeft:1,children:null===t||void 0===t?void 0:t.users[0].about})]})]}),(0,G.jsx)(v.Z,{}),(0,G.jsxs)(j.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[(0,G.jsxs)(j.Z,{direction:"row",alignItems:"center",spacing:2,children:[(0,G.jsx)(C.Z,{size:21}),(0,G.jsx)(Z.Z,{variant:"subtitle2",children:"Starred Messages"})]}),(0,G.jsx)(p.Z,{onClick:()=>{n((0,N.OV)({severity:"info",message:"Feature Under Construction"}))},children:(0,G.jsx)(b.Z,{})})]}),(0,G.jsx)(v.Z,{}),(0,G.jsxs)(j.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[(0,G.jsxs)(j.Z,{direction:"row",alignItems:"center",spacing:2,children:[(0,G.jsx)(f.Z,{size:21}),(0,G.jsx)(Z.Z,{variant:"subtitle2",children:"Mute Notifications"})]}),(0,G.jsx)(y.Z,{})]}),(0,G.jsx)(v.Z,{}),o?(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)(Z.Z,{variant:"body2",children:"".concat(null===t||void 0===t||null===(e=t.users)||void 0===e?void 0:e.length," Members")}),(0,G.jsx)(j.Z,{direction:"column",alignItems:"center",spacing:1,sx:{marginTop:0},children:null===t||void 0===t||null===(i=t.users)||void 0===i?void 0:i.map(((e,i)=>(0,G.jsx)(M,{sx:{width:"100%",borderRadius:1,backgroundColor:d.palette.background.paper},p:1,children:(0,G.jsxs)(j.Z,{direction:"row",alignItems:"center",spacing:2,children:[(0,G.jsx)(g.Z,{src:e.avatar,alt:e.firstName}),(0,G.jsx)(j.Z,{spacing:.3,children:(0,G.jsx)(Z.Z,{variant:"subtitle2",children:e.firstName+" "+e.lastName})})]})},i)))})]}):(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)(Z.Z,{variant:"body2",children:"".concat(a.length," groups in common")}),(0,G.jsx)(j.Z,{direction:"column",alignItems:"center",spacing:1,sx:{marginTop:0},children:null===a||void 0===a?void 0:a.map(((e,i)=>(0,G.jsx)(M,{sx:{width:"100%",borderRadius:1,backgroundColor:d.palette.background.paper},p:1,onClick:()=>(e=>{let{_id:i}=e;W.W.emit("leave chat",c),n((0,N.ND)({chat_id:i,isGroupChat:!0})),n((0,N.Xk)()),n((0,N.Tn)({tab:1})),W.W.emit("join chat",i),W.W.on("connected",(()=>{console.log("Socket Connected"),n((0,_.h7)(!0))}))})({_id:e._id}),children:(0,G.jsxs)(j.Z,{direction:"row",alignItems:"center",spacing:2,children:[(0,G.jsx)(g.Z,{src:"",alt:"Group"}),(0,G.jsx)(j.Z,{spacing:.3,children:(0,G.jsx)(Z.Z,{variant:"subtitle2",children:e.chatName})})]})},i)))})]}),(0,G.jsx)(v.Z,{}),(0,G.jsxs)(j.Z,{direction:"row",alignItems:"center",spacing:2,children:[(0,G.jsx)(u.Z,{onClick:()=>{S(!0)},fullWidth:!0,startIcon:(0,G.jsx)(k.Z,{}),variant:"outlined",children:"Block"}),(0,G.jsx)(u.Z,{onClick:()=>{R(!0)},fullWidth:!0,startIcon:(0,G.jsx)(w.Z,{}),variant:"outlined",children:"Delete"})]})]})]}),x&&(0,G.jsx)(T,{open:x,handleClose:()=>{S(!1)}}),D&&(0,G.jsx)(A,{open:D,handleClose:()=>{R(!1)}})]})}}}]);
//# sourceMappingURL=575.de845094.chunk.js.map